<!DOCTYPE html><html lang="ar" dir="rtl"><head>
<meta charset="UTF-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>حصري - TR111</title>
<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
<style>
:root{--bg:#0e0f12;--card:#15171b;--text:#e8edf5;--line:#242833;--accent:#d4af37}
*{box-sizing:border-box}
body{margin:0;font-family:'Tajawal','Cairo',sans-serif;color:var(--text);
display:flex;justify-content:center;align-items:center;height:100vh;background:#000;overflow:hidden}
canvas{position:fixed;top:0;left:0;width:100%;height:100%;z-index:-1;background:black}
.wA{width:min(520px,94vw)}
.cA{position:relative;background:rgba(0,0,0,0.85);border:2px solid var(--accent);
border-radius:20px;box-shadow:0 0 25px rgba(212,175,55,0.6);padding:18px;text-align:center}
.tA{font-size:20px;margin-bottom:10px;color:#fff;text-shadow:0 0 8px var(--accent)}
.rA{display:flex;align-items:center;justify-content:space-between;
padding:8px 4px;border-top:1px solid var(--line)}
.lA{color:#d8dfec}
.vA{font-variant-numeric:tabular-nums;font-weight:900;letter-spacing:.4px}
.controls{
  display:flex;align-items:center;justify-content:center;
  gap:6px;margin:5px 0;
}
.controls span{width:55px;color:#d8dfec;font-size:.9rem}
.controls input{
  width:55px;text-align:center;background:transparent;border:none;
  border-bottom:2px solid var(--accent);color:#22d3ee;font-size:1rem;
  outline:none;margin:0 2px;
}
button{
  background:rgba(212,175,55,0.12);color:var(--accent);
  border:1px solid var(--accent);border-radius:8px;
  font-weight:bold;width:30px;height:30px;cursor:pointer;
  font-size:17px;transition:all .2s ease;
}
button:hover{background:var(--accent);color:#000;transform:scale(1.05);
box-shadow:0 0 8px rgba(212,175,55,0.6)}
.save-btn{
  display:block;margin:10px auto 0;width:auto;padding:6px 16px;
  border-radius:10px;font-size:.9rem;letter-spacing:.5px
}
.msg{
  margin-top:10px;font-size:.9rem;color:#22d3ee;opacity:0;
  transition:opacity .4s ease;text-align:center;
}
.fA{margin-top:12px;text-align:center;color:#b8c1d4;font-size:.9rem;opacity:.9}
.fA span{color:var(--accent);font-weight:700}
</style>
</head>
<body>
<canvas id="cnv_mx"></canvas>
<div class="wA"><div class="cA">
  <div class="tA">خاص بلعبة RedDeadOnline</div>

  <div class="rA"><div class="lA">الوقت داخل اللعبة:</div><div class="vA" id="id_gm">--:--</div></div>
  <div class="rA"><div class="lA">تجديد مشتري المونشاين:</div><div class="vA" id="id_mn">--:--:--</div></div>
  <div class="rA"><div class="lA">تجديد حيوانات هاريت:</div><div class="vA" id="id_ht">--:--:--</div></div>

  <div class="controls">
    <span>دقائق</span>
    <button id="minMinus">−</button>
    <input type="number" id="minOffset" value="0">
    <button id="minPlus">+</button>
  </div>
  <div class="controls">
    <span>ثوانٍ</span>
    <button id="secMinus">−</button>
    <input type="number" id="secOffset" value="0">
    <button id="secPlus">+</button>
  </div>

  <button class="save-btn" id="saveBtn">💾 حفظ التعديلات</button>
  <div class="msg" id="saveMsg">تم حفظ التعديلات ✅</div>

  <div class="fA"><span id="ft"></span></div>
</div></div>

<script>
// خلفية Matrix ذهبية
!function(){
  const c=document.getElementById("cnv_mx"),g=c.getContext("2d");
  function s(){c.height=innerHeight;c.width=innerWidth}
  addEventListener("resize",s,{passive:!0});s();
  const L="01",F=14;let C=Math.floor(c.width/F),D=new Array(C).fill(1);
  function r(){const n=Math.floor(c.width/F);if(n!==C){C=n;D=new Array(C).fill(1)}}
  function d(){r();g.fillStyle="rgba(0,0,0,0.05)";g.fillRect(0,0,c.width,c.height);
    g.fillStyle="#FFD700";g.font=F+"px monospace";
    for(let i=0;i<D.length;i++){const ch=L.charAt(Math.floor(Math.random()*L.length));
      g.fillText(ch,i*F,D[i]*F);
      if(D[i]*F>c.height&&Math.random()>0.975)D[i]=0;
      D[i]++}}
  setInterval(d,35)
}();

// مؤقتات RDO
"use strict";
(function(){
  const pad=n=>(n<10?"0":"")+n;
  const MOON_CYCLE=96*60;
  const H_VISIBLE=48*60;
  const H_HIDE=3;
  const H_TOTAL=H_VISIBLE+H_HIDE;
  const KSA_OFFSET=3*3600;
  const BASE_HOUR_LOCAL=19;

  let minuteOffset=parseInt(localStorage.getItem("harriet_min"))||0;
  let secondOffset=parseInt(localStorage.getItem("harriet_sec"))||0;

  const minInput=document.getElementById("minOffset");
  const secInput=document.getElementById("secOffset");
  minInput.value=minuteOffset; secInput.value=secondOffset;

  function secondsUTC(d){return d.getUTCHours()*3600+d.getUTCMinutes()*60+d.getUTCSeconds()}
  function secondsKSAInDay(d){const utc=secondsUTC(d);return(utc+KSA_OFFSET)%86400}

  function remainHarriet(){
    const now=new Date();
    const ksaSec=secondsKSAInDay(now);
    const base=(BASE_HOUR_LOCAL*3600)%86400;
    const sinceBase=(ksaSec-base+86400)%86400;
    const mod=sinceBase%H_TOTAL;
    if(mod>=H_VISIBLE)return 0;
    return H_VISIBLE-mod + (minuteOffset*60) + secondOffset;
  }

  function remainMoon(){
    const utcSec=secondsUTC(new Date());
    return MOON_CYCLE-(utcSec%MOON_CYCLE)
  }

  function gameTime(){
    const n=new Date(),gt=new Date(n.getTime()*30);
    let h=gt.getUTCHours(),m=gt.getUTCMinutes(),P=h>=12?"م":"ص";
    h=h%12;if(h===0)h=12;
    return pad(h)+":"+pad(m)+" "+P
  }

  function fmt(sec){
    sec=Math.floor(Math.max(0,sec));
    const h=Math.floor(sec/3600),m=Math.floor((sec%3600)/60),s=sec%60;
    return pad(h)+":"+pad(m)+":"+pad(s)
  }

  const gm=document.getElementById("id_gm"),
        mn=document.getElementById("id_mn"),
        ht=document.getElementById("id_ht"),
        msg=document.getElementById("saveMsg");

  function update(){
    gm.textContent=gameTime();
    mn.textContent=fmt(remainMoon());
    const r=remainHarriet();
    ht.textContent=r<=0?"00:00:00":fmt(r);
  }

  function adjust(type,delta){
    if(type==="min"){minuteOffset+=delta;minInput.value=minuteOffset;}
    else {secondOffset+=delta;secInput.value=secondOffset;}
  }

  document.getElementById("minPlus").onclick=()=>adjust("min",1);
  document.getElementById("minMinus").onclick=()=>adjust("min",-1);
  document.getElementById("secPlus").onclick=()=>adjust("sec",1);
  document.getElementById("secMinus").onclick=()=>adjust("sec",-1);

  document.getElementById("saveBtn").onclick=()=>{
    localStorage.setItem("harriet_min",minuteOffset);
    localStorage.setItem("harriet_sec",secondOffset);
    msg.style.opacity=1;
    setTimeout(()=>msg.style.opacity=0,2000);
  };

  minInput.oninput=e=>minuteOffset=parseInt(e.target.value)||0;
  secInput.oninput=e=>secondOffset=parseInt(e.target.value)||0;

  update();
  setInterval(update,1000);
})();

// تذييل TR111
(function(){
  try{
    const b64="2KjYsdmF2KzYqSDZiNmB2YPYsdipINin2YTYudiz2YrYsdmKIFRlbGVncmFtIEBUUjExMQ==";
    const bin=atob(b64);
    const esc=bin.split("").map(c=>"%"+("00"+c.charCodeAt(0).toString(16)).slice(-2)).join("");
    document.getElementById("ft").textContent=decodeURIComponent(esc);
  }catch(e){}
})();
</script>
</body></html>
